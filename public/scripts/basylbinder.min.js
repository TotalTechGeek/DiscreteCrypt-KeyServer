if("undefined"==typeof window.$$)$$=function(a){return a instanceof Event?$$.from(a.target):a instanceof HTMLElement||"object"==typeof a?$$.from(a):void 0};else{var z=window.$$;$$=function(a,b){return a instanceof Event?$$.from(a.target):a instanceof HTMLElement||"object"==typeof a?$$.from(a):z(a,b)}}function createBasylBinder(b){function a(a,c){c=c.toLowerCase();var d;return(d=i(a,c))?d.getAttribute(e).toLowerCase()+":"+c:"undefined"==typeof b.bindings[c]?null:c}function c(a){var b=new DOMParser().parseFromString(a,"text/html");return b.documentElement.textContent}b.bindings={},b.bindUpdates={},b.updates={},b.components={};var d=0;const e="local-bind",f="vars",g="basyl-script",h="dvars";b.queueUpdate=function(a,c){"undefined"!=typeof b.updates[a]&&clearTimeout(b.updates[a]),b.updates[a]=setTimeout(()=>{b.update(a),delete b.updates[a]},c)},b.bind=function(a,c){return a=a.toLowerCase(),"string"==typeof c&&(c=c.toLowerCase()),"undefined"!=typeof b.bindings[a]&&b.bindings[a][2].push(c),b},b.forget=function(a){return a=a.toLowerCase(),delete b.bindings[a],b},b.emptyFunction=function(){},b._bindElementFormat=function(a,c){a.value=c(a.value);var d=a.onchange||b.emptyFunction;return a.onchange=(b)=>{b.target.value=c(b.target.value),d(b),a.oninput&&a.oninput(b)},b},b._bindElement=function(c,d,g,e){c=a(d,c);var e="undefined"!=typeof e&&e;if("undefined"!=typeof b.bindings[c]&&"undefined"!=typeof d)if(4==b.bindings[c].length&&"Array"==b.bindings[c][3]){var h=b.bindings[c][0]().count();if("undefined"!=typeof d.attributes["bind-index"])h=d.getAttribute("bind-index"),"undefined"==typeof b.bindings[c][0]().get(h)&&b.bindings[c][0]().set("",h);else{for(;"undefined"!=typeof b.bindings[c][0]().get(h);)h++;d.setAttribute("bind-index",h),b.bindings[c][0]().set("",h)}if(!e){var i=function(){if(d[g]=b.bindings[c][0]().get(h),!d.parentNode){var a=b.bindings[c][2].indexOf(i);b.bindings[c][2].splice(a,1)}};b.bindings[c][2].push(i),d[g]=b.bindings[c][0]().get(h)}(d instanceof HTMLInputElement||d instanceof HTMLTextAreaElement)&&(d.oninput=(a)=>{if("undefined"==typeof b.bindings[c])return void delete d.oninput;b.bindings[c][0]().set(a.target[g],h);var e=d.selectionStart,f=d.selectionEnd;b.update(c),d.setSelectionRange(e,f)},d.attributes.type&&("checkbox"===d.getAttribute("type")||"file"===d.getAttribute("type"))&&(d.onchange=(a)=>"undefined"==typeof b.bindings[c]?void delete d.oninput:void(d.hasAttribute("on-true")&&!0==a.target[g]?b.bindings[c][0]().set(d.getAttribute("on-true"),h):d.hasAttribute("on-false")&&!1==a.target[g]?b.bindings[c][0]().set(d.getAttribute("on-false"),h):b.bindings[c][0]().set(a.target[g],h),b.update(c))))}else e||(b.bindings[c][2].push([d,g]),d[g]=b.bindings[c][0]()),(d instanceof HTMLInputElement||d instanceof HTMLTextAreaElement)&&(d.oninput=(a)=>{if("undefined"==typeof b.bindings[c])return void delete d.oninput;var e=d.selectionStart,f=d.selectionEnd;b.get(c)!=a.target[g]&&b.set(c,a.target[g]),d.setSelectionRange(e,f)},d.attributes.type&&("checkbox"===d.getAttribute("type")||"file"===d.getAttribute("type"))&&(d.onchange=(a)=>"undefined"==typeof b.bindings[c]?void delete d.oninput:void(b.get(c)!=a.target[g]&&(d.hasAttribute("on-true")&&!0==a.target[g]?b.set(c,d.getAttribute("on-true")):d.hasAttribute("on-false")&&!1==a.target[g]?b.set(c,d.getAttribute("on-false")):b.set(c,a.target[g])))));return b},b.create=function(a,c,d){a=a.toLowerCase();var c=c||b.emptyFunction,d=d||b.emptyFunction;return b.bindUpdates[a]=!1,b.bindings[a]=[c,d,[]],b},b.createView=function(a,c,d){return a=a.toLowerCase(),c=c.toLowerCase(),"undefined"==typeof b.bindings[a]&&b.htmlvars(),b.create(c,()=>d(b.get(a))),b.bind(a,c),b},b.update=function(a){if(a=a.toLowerCase(),"undefined"!=typeof b.bindings[a]){if(b.bindUpdates[a])return b;b.bindUpdates[a]=!0,b.bindings[a][2].forEach((c)=>{"string"==typeof c?b.update(c):"function"==typeof c?c():c[0][c[1]]=b.bindings[a][0]()}),b.bindUpdates[a]=!1}return b},b.dget=function(a){if(a=a.toLowerCase(),"undefined"!=typeof b.bindings[a])return b.get(a).arr},b.get=function(a){if(a=a.toLowerCase(),"undefined"!=typeof b.bindings[a])return b.bindings[a][0]()},b.set=function(a,c){if(a=a.toLowerCase(),"undefined"!=typeof b.bindings[a]){if(b.bindUpdates[a])return;b.bindings[a][1](c),b.update(a)}return b},Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(a){for(var b=(this.document||this.ownerDocument).querySelectorAll(a),c=b.length;0<=--c&&b.item(c)!==this;);return-1<c}),b._fromId=function(a){return b.from(document.getElementById(a))},b.closest=function(a,c,d){for(var d="undefined"==typeof d?"["+e+"]":d,f=null;a;){if(a.matches(d)&&("undefined"==typeof c||""===c||"undefined"!=typeof b.bindings[a.getAttribute(e).toLowerCase()+":"+c.toLowerCase()])){f=a;break}a=a.parentElement}return f};var i=b.closest;b._randStr=()=>Math.random().toString(36).substring(2),b._fromInput=function(a){var c={};return c.bind=function(d,e){return b._bindElement(d,a,"value",e),c},c.bindEvent=function(){},c.format=function(d){return b._bindElementFormat(a,d),c},c},b._fromElement=function(a){var c={};return c.bind=function(d,e,f){return b._bindElement(d,a,e,f),c},c.bindEvent=function(){},c},b.from=function(d){if("string"==typeof d){if(0===d.indexOf("#"))return b._fromId(d.substring(1));if(0===d.indexOf("$*")){var f=document.querySelectorAll(d.substring(2));return f=b.from(f).do((a)=>b.from(a)),b.from(f)}if(0===d.indexOf("$"))return b.from(document.querySelector(d.substring(1)))}var g;if(d instanceof HTMLElement){function f(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function h(a,b,c){return c.indexOf(a)===b}return g=d instanceof HTMLInputElement?b._fromInput(d):b._fromElement(d),g.var=function(a,c,f,g){var h;if(h=i(d)){var h=h.getAttribute(e);return b.var(h+":"+a,c,f,g)}return b.var(a,c,f,g)},g.dvar=function(a,c,f,g){var h;if(h=i(d)){var h=h.getAttribute(e);return b.dvar(h+":"+a,c,f,g)}return b.dvar(a,c,f,g)},g.bind=function(a,c){var f;if(f=i(d)){var f=f.getAttribute(e);return b.bind(f+":"+a,c)}return b.dvar(a,c)},g.watch=function(e){"text"==e&&(e="*textContent"),"html"==e&&(e="*innerHTML");var g=e;"*textContent"===e&&(e="*innerHTML"),(d instanceof HTMLStyleElement||d instanceof HTMLScriptElement)&&"*innerHTML"===e&&(e="-html");var j=!1,i=!1;"*"==e.charAt(0)?(i=!0,j=!0,e=e.substring(1)):"-html"==e&&(i=!0,e="innerHTML");var k=i?d[e]:d.getAttribute(e)||"";var l,m=(k.toString().match(/\{\{[A-Za-z0-9\-_#]+(\|[^}]+(\}[^}]+)?)*\}\}/g)||[]).map((a)=>{var b=a.substring(2,a.length-2).split("|"),c=b[0];return b[0]="",[c.toLowerCase(),b.join("|").substring(1),f(a)]});m=m.filter((b)=>a(d,b[0])).filter(h);var n=m.map((a)=>new RegExp(a[2],"g")),o=!1;l=()=>{var f=k.toString();j?(o=!0,b.from(d.childNodes).for((e)=>{e instanceof HTMLElement?(b.from(e).watch(g),b.from(e.attributes).for((a)=>{n.some((b)=>a.value.match(b))&&b.from(e).watch(a.name)})):e instanceof Text&&(f=e.data,""!==f.trim()&&(n.forEach((e,h)=>{var i=a(d,m[h][0]);""!==m[h][1]&&(i=b._randStr(),b.createView(m[h][0],i,new Function(m[h][0],"return "+c(m[h][1]))));var j="*innerHTML"===g?"bind-to=\"innerHTML\"":"";f=f.replace(e,"<v bind=\""+i+"\""+j+"></v>")}),e.parentNode.replaceChild(new DOMParser().parseFromString("<v>"+f+"</v>","text/html").childNodes[0].childNodes[1].childNodes[0],e)))})):n.forEach((a,c)=>{if(""!==m[c][1]){var e=new Function(m[c][0],"return "+m[c][1]);f=f.replace(a,e(b(d).get(m[c][0])))}else f=f.replace(a,b(d).get(m[c][0]))}),o||(i?d[e]=f:d.setAttribute(e,f))},m.forEach((c)=>{c=c[0],j||b.bind(a(d,c),l)}),l()},g.get=function(c){return b.get(a(d,c))},g.cget=function(a){var e=b.closest(d,"","component"),c=e.getAttribute("type"),a=b.components[c][1].split(" ").indexOf(a),f=e.getAttribute("was-from").split(" ")[a];return g.get(f)},g.cset=function(a,e){var f=b.closest(d,"","component"),c=f.getAttribute("type"),a=b.components[c][1].split(" ").indexOf(a),h=f.getAttribute("was-from").split(" ")[a];return g.set(h,e)},g.set=function(c,e){return b.set(a(d,c),e)},g}return g={},d instanceof Array?(g.do=(a,b)=>d.map(a,b),g.for=(a,b)=>d.forEach(a,b)):(g.for=(a)=>{for(var b=d.length,c=0;c<b;c++)a(d[c],c)},g.do=(a)=>{for(var b,c=[],e=d.length,f=0;f<e;f++)b=a(d[f],f),void 0!==b&&null!==b&&c.push(b);return c}),g.transpose=()=>{var a=g.max()[0];return((a,b)=>d[b].map((a,b)=>d.map((a)=>a[b])))(d,a)},g.max=()=>{for(var a=0,b=0,c=0;c<d.length;c++)d[c].length>a&&(a=d[c].length,b=c);return[b,a]},g.sum=()=>{var a=0;return d.forEach((b)=>a+=parseFloat(b)||0),a},g.ffor=(a,b)=>{for(var c=d.length,e=0;e<c;e++)b(d[e])&&a(d[e],e)},g.table=function(a){var a=a||{};"undefined"==typeof a.fill&&(a.fill=""),"undefined"==typeof a.head&&(a.head=[]);for(var b=g.max()[1],c=0;c<d.length;c++)for(;d[c].length<b;)d[c].push("");var e="<tbody>"+d.map((b)=>"<tr>"+b.map((b)=>"<td>"+(b||a.fill)+"</td>").join("")+"</tr>").join("")+"</tbody>",f="";return a.head.length&&(f="<thead><tr>"+a.head.map((a)=>"<th>"+a+"</th>").join("")+"</tr></thead>"),"<table>"+f+e+"</table>"},g.fdo=(a,b)=>{for(var c,e=[],f=d.length,g=0;g<f;g++)c=b(d[g])?a(d[g],g):null,void 0!==c&&null!==c&&e.push(c);return e},g},b.templates={getInt:(a)=>parseInt(a.val)||0,getPosInt:(a)=>{var b=parseInt(a.val);return 0>b?-b:b||0},getFloat:(a)=>parseFloat(a.val)||0,getAny:(a)=>a.val||"",setInt:(a,b)=>a.val=parseInt(b),setFloat:(a,b)=>a.val=parseFloat(b),setAny:(a,b)=>a.val=b},b._CV=function(a,c,d){var e={val:a?a:""},f=c?c:b.templates.getAny,g=d?d:b.templates.setAny;return e.set=(a)=>g(e,a),e.get=()=>f(e),e},b.dvar=function(a){a=a.toLowerCase();var c={arr:[]},d=(a,b,c)=>a.arr[c]=b,e=(a,b)=>a.arr[b];return c.set=(a,b)=>d(c,a,b),c.get=(a)=>e(c,a),c.count=()=>c.arr.length,b.create(a,()=>c),b.bindings[a].push("Array"),b},b.search=function(a){return Object.keys(b.bindings).filter((b)=>b.match(a))},b.const=function(a,c){return b.var(a,c)},b.var=function(c,d,e,f){var g=new b._CV(d,e,f);return b.create(c,g.get,g.set),b},b.range=function(a,b){return[...Array(b-a+1).keys()].map((b)=>b+a)},b.localScopes=function(){var a="undefined"==typeof a?"":a+" ";b.from(document.querySelectorAll(a+"["+e+"]")).for((a)=>{""===a.getAttribute(e)&&a.setAttribute(e,b._randStr())})},b.style=function(){b.from(document.querySelectorAll("basyl-style,script[type=\"basyl-style\"]")).for((c)=>{var d=document.createElement("style");d.innerHTML=c.innerHTML,c.parentNode.replaceChild(d,c),b.from(d).watch("-html")})},b.htmlvars=function(a){var a="undefined"==typeof a?"":a+" ";return b.localScopes(),b.from(document.querySelectorAll(a+f)).for((a)=>{b.from(a.attributes).for((c)=>b(a).var(c.name,c.value)),a.parentNode.removeChild(a)}),b.from(document.querySelectorAll(a+h)).for((a)=>{b.from(a.attributes).for((c)=>b(a).dvar(c.name)),a.parentNode.removeChild(a)}),b},b.all=function(c,d){b.style();var c="undefined"==typeof c?"":c+" ",d="undefined"==typeof d?0:d;c+=" ",b.htmlvars(c);var e=document.querySelectorAll(c+"component[make]");b.from(e).for((a)=>{b.components[a.getAttribute("type")]=[a.innerHTML,a.getAttribute("make"),(a.querySelector("bindings")||{textContent:""}).textContent],a.parentNode.removeChild(a)}),e=document.querySelectorAll(c+"component[from]"),b.from(e).for((a)=>{var c=a.getAttribute("type"),d=b.components[c][1].split(" "),e=a.getAttribute("from").split(" "),f=b.components[c][0];d.forEach((a,b)=>{var c=new RegExp("{{"+a+"}}","g");f=f.replace(c,"{{"+e[b]+"}}")}),a.setAttribute("was-from",e.join(" ")),a.removeAttribute("from"),a.setAttribute("watch","html"),a.innerHTML=f,d.forEach((c,d)=>{b.from(a.querySelectorAll("[vname=\""+c+"\"]")).for((a)=>{a.setAttribute("bind",e[d])}),b.from(a.querySelectorAll("bindings")).for((a)=>a.parentNode.removeChild(a))})}),e=document.querySelectorAll(c+"[watch]:not([watched])"),b.from(e).for((a)=>{var c=a.getAttribute("watch").split(" ");b.from(c).for((c)=>{b.from(a).watch(c)}),a.setAttribute("watched",a.getAttribute("watch").toLowerCase()),a.removeAttribute("watch")}),e=document.querySelectorAll(c+"[bind]:not([bound])"),b.from(e).for((e)=>{var f=a(e,e.getAttribute("bind"));if("undefined"==typeof b.bindings[f])return d++,void(4>d&&setTimeout(()=>b.all(c,d),200*d));var g="undefined"!=typeof e.attributes["one-way"],h="undefined"==typeof e.attributes["bind-to"]?e instanceof HTMLInputElement?"object"==typeof e.attributes.type&&"checkbox"===e.getAttribute("type")?"checked":"value":e instanceof HTMLTextAreaElement?"value":"textContent":e.getAttribute("bind-to");e.setAttribute("bound",f),e.removeAttribute("bind"),b._bindElement(f,e,h,g)}),e=document.querySelectorAll(c+g),b.from(e).for((a)=>{eval(a.textContent),a.parentNode.removeChild(a)}),e=document.querySelectorAll(c+"[basyl-if]:not(basyl-if-watched)"),b.from(e).for((c)=>{var d,e=c.getAttribute("basyl-if"),f=(a)=>a;-1!=(d=e.indexOf("|"))&&(f=new Function(e.substring(0,d),"return "+e.substring(d+1)),e=e.substring(0,d));var g=c.style.display;e=a(c,e),b.bind(e,()=>{c.style.display=f(b.get(e))?g:"none"}),c.style.display=f(b.get(e))?g:"none",c.setAttribute("basyl-if-watched",e),c.removeAttribute("basyl-if")})}}createBasylBinder($$);